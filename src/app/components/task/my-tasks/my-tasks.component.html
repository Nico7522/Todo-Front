<main class="box-shadow">
  <h2 class="primary white mat-headline-6">Your tasks</h2>
  <div class="wrapper">
    @if(task$ | async; as t) {
    <mat-form-field class="example-full-width">
      <span matPrefix> <mat-icon>search</mat-icon> </span>
      <input
        (keyup)="applyFilter($event)"
        type="search"
        matInput
        placeholder="Search"
        name="search"
      />
    </mat-form-field>
    <table mat-table [dataSource]="tasks()" M class="mat-elevation-z8">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>Title</th>
        <td mat-cell *matCellDef="let task">{{ task.title }}</td>
      </ng-container>

      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef>Priority</th>
        <td mat-cell *matCellDef="let task">
          {{ task.priority | priority }}
        </td>
      </ng-container>

      <ng-container matColumnDef="details">
        <th mat-header-cell *matHeaderCellDef>Details</th>
        <td mat-cell *matCellDef="let task">
          <button mat-mini-fab color="primary">
            <mat-icon>visibility</mat-icon>
          </button>
        </td>
      </ng-container>

      <ng-container matColumnDef="advancement">
        <th mat-header-cell *matHeaderCellDef>Advancement</th>
        <td mat-cell *matCellDef="let task">
          <mat-icon class="advancement">{{
            task.isComplete ? "checked_circle" : "pending"
          }}</mat-icon>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    }
  </div>
</main>
